<form #bookForm="ngForm">
  <page-title title="Edit Book"></page-title>
  <div class="form-row">
    <div class="form-group col-md-5">
    <label for="bookName">Name</label>
    <input type="text" class="form-control" id="bookName" name="bookName" placeholder="Enter book name" 
      [(ngModel)]="book.name" required #bookName="ngModel">
    <div *ngIf="bookName.errors && (bookName.dirty || bookName.touched)" class="alert alert-danger">
      <div [hidden]="!bookName.errors.required">
        Name is required.
      </div>
    </div>
  </div>
  <div class="form-group col-md-5">
    <label for="bookAuthor">Author</label>
    <select class="custom-select" id="bookAuthor" name="bookAuthor" [(ngModel)]="selectedAuthor" 
      required #bookAuthor="ngModel">
      <option value="">Selecione...</option>
      <option *ngFor="let author of authors" value="{{author.id}}">{{author.name}}</option>
    </select>
    <div *ngIf="bookAuthor.errors && (bookAuthor.dirty || bookAuthor.touched)" class="alert alert-danger">
      <div [hidden]="!bookAuthor.errors.required">
        Author is required.
      </div>
    </div>
  </div>
  <div class="form-group col-md-2">
    <label for="bookPublicationYear">Publication Year</label>
    <input type="text" class="form-control" id="bookPublicationYear" name="bookPublicationYear" placeholder="1857" 
      [(ngModel)]="book.publicationYear" [textMask]="maskYear" required pattern="\d{4}" #bookPublicationYear="ngModel">
    <div *ngIf="bookPublicationYear.errors && (bookPublicationYear.dirty || bookPublicationYear.touched)" class="alert alert-danger">
      <div [hidden]="!bookPublicationYear.errors.required">
        Publication Year is required.
      </div>
      <div [hidden]="!bookPublicationYear.errors.pattern">
        Publication Year must have 4 digits.
      </div>
    </div>
  </div>
</div>
<div class="form-group">
  <label for="bookDescription">Book Description</label>
  <textarea class="form-control" id="bookDescription" name="bookDescription" placeholder="Loren ipsum" rows="3" [(ngModel)]="book.description"></textarea>
</div>
<div class="btn-toolbar">
  <button type="button" class="btn btn-primary" (click)="edit()" [disabled]="!bookForm.form.valid">Criar</button>
  <a class="btn btn-secondary" role="button" [routerLink]="['../../']">Back</a>
</div>
</form>